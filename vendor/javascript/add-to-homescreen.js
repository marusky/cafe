var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var t={};!function(e,n){t=n()}(t,(function(){function a(){window.removeEventListener("load",a,!1),n=!0}function b(e){return i=i||new b.Class(e)}function c(e,t){for(var n in t)e[n]=t[n];return e}function d(){"#ath"==document.location.hash&&history.replaceState("",window.document.title,document.location.href.split("#")[0]),o.test(document.location.href)&&history.replaceState("",window.document.title,document.location.href.replace(o,"$1")),s.test(document.location.search)&&history.replaceState("",window.document.title,document.location.href.replace(s,"$2"))}var t="addEventListener"in window,n=!1;"complete"===document.readyState?n=!0:t&&window.addEventListener("load",a,!1);var i,o=/\/ath(\/)?$/,s=/([\?&]ath=[^&]*$|&ath=[^&]*(&))/;b.intl={de_de:{ios:"Um diese Web-App zum Home-Bildschirm hinzuzufügen, tippen Sie auf %icon und dann <strong>Zum Home-Bildschirm</strong>.",android:'Um diese Web-App zum Home-Bildschirm hinzuzufügen, öffnen Sie das Menü und tippen dann auf <strong>Zum Startbildschirm hinzufügen</strong>. <small>Wenn Ihr Gerät eine Menütaste hat, lässt sich das Browsermenü über diese öffnen. Ansonsten tippen Sie auf <span class="ath-action-icon">icon</span>.</small>'},da_dk:{ios:"For at tilføje denne web app til hjemmeskærmen: Tryk %icon og derefter <strong>Føj til hjemmeskærm</strong>.",android:'For at tilføje denne web app til hjemmeskærmen, åbn browser egenskaber menuen og tryk på <strong>Føj til hjemmeskærm</strong>. <small>Denne menu kan tilgås ved at trykke på menu knappen, hvis din enhed har en, eller ved at trykke på det øverste højre menu ikon <span class="ath-action-icon">icon</span>.</small>'},en_us:{ios:"To add this web app to the home screen: tap %icon and then <strong>Add to Home Screen</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},es_es:{ios:"Para añadir esta aplicación web a la pantalla de inicio: pulsa %icon y selecciona <strong>Añadir a pantalla de inicio</strong>.",android:'Para añadir esta aplicación web a la pantalla de inicio, abre las opciones y pulsa <strong>Añadir a pantalla inicio</strong>. <small>El menú se puede acceder pulsando el botón táctil en caso de tenerlo, o bien el icono de la parte superior derecha de la pantalla <span class="ath-action-icon">icon</span>.</small>'},fi_fi:{ios:"Liitä tämä sovellus kotivalikkoon: klikkaa %icon ja tämän jälkeen <strong>Lisää kotivalikkoon</strong>.",android:'Lisätäksesi tämän sovelluksen aloitusnäytölle, avaa selaimen valikko ja klikkaa tähti -ikonia tai <strong>Lisää aloitusnäytölle tekstiä</strong>. <small>Valikkoon pääsee myös painamalla menuvalikkoa, jos laitteessasi on sellainen tai koskettamalla oikealla yläkulmassa menu ikonia <span class="ath-action-icon">icon</span>.</small>'},fr_fr:{ios:"Pour ajouter cette application web sur l'écran d'accueil : Appuyez %icon et sélectionnez <strong>Ajouter sur l'écran d'accueil</strong>.",android:'Pour ajouter cette application web sur l\'écran d\'accueil : Appuyez sur le bouton "menu", puis sur <strong>Ajouter sur l\'écran d\'accueil</strong>. <small>Le menu peut-être accessible en appyant sur le bouton "menu" du téléphone s\'il en possède un <i class="fa fa-bars"></i>. Sinon, il se trouve probablement dans la coin supérieur droit du navigateur %icon.</small>'},he_il:{ios:'<span dir="rtl">להוספת האפליקציה למסך הבית: ללחוץ על %icon ואז <strong>הוסף למסך הבית</strong>.</span>',android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},it_it:{ios:"Per aggiungere questa web app alla schermata iniziale: premi %icon e poi <strong>Aggiungi a Home</strong>.",android:'Per aggiungere questa web app alla schermata iniziale, apri il menu opzioni del browser e premi su <strong>Aggiungi alla homescreen</strong>. <small>Puoi accedere al menu premendo il pulsante hardware delle opzioni se la tua device ne ha uno, oppure premendo l\'icona <span class="ath-action-icon">icon</span> in alto a destra.</small>'},ja_jp:{ios:"このウェプアプリをホーム画面に追加するために%iconを押して<strong>ホーム画面に追加</strong>。",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},ko_kr:{ios:"홈 화면에 바로가기 생성: %icon 을 클릭한 후 <strong>홈 화면에 추가</strong>.",android:'브라우저 옵션 메뉴의 <string>홈 화면에 추가</string>를 클릭하여 홈화면에 바로가기를 생성할 수 있습니다. <small>옵션 메뉴는 장치의 메뉴 버튼을 누르거나 오른쪽 상단의 메뉴 아이콘 <span class="ath-action-icon">icon</span>을 클릭하여 접근할 수 있습니다.</small>'},nb_no:{ios:"For å installere denne appen på hjem-skjermen: trykk på %icon og deretter <strong>Legg til på Hjem-skjerm</strong>.",android:'For å legge til denne webappen på startsiden åpner en nettlesermenyen og velger <strong>Legg til på startsiden</strong>. <small>Menyen åpnes ved å trykke på den fysiske menyknappen hvis enheten har det, eller ved å trykke på menyikonet øverst til høyre <span class="ath-action-icon">icon</span>.</small>'},pt_br:{ios:"Para adicionar este app à tela de início: clique %icon e então <strong>Tela de início</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},pt_pt:{ios:"Para adicionar esta app ao ecrã principal: clique %icon e depois <strong>Ecrã principal</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},nl_nl:{ios:"Om deze webapp op je telefoon te installeren, klik op %icon en dan <strong>Zet in beginscherm</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},ru_ru:{ios:'Чтобы добавить этот сайт на свой домашний экран, нажмите на иконку %icon и затем <strong>На экран "Домой"</strong>.',android:'Чтобы добавить сайт на свой домашний экран, откройте меню браузера и нажмите на <strong>Добавить на главный экран</strong>. <small>Меню можно вызвать, нажав на кнопку меню вашего телефона, если она есть. Или найдите иконку сверху справа <span class="ath-action-icon">иконка</span>.</small>'},sv_se:{ios:"För att lägga till denna webbapplikation på hemskärmen: tryck på %icon och därefter <strong>Lägg till på hemskärmen</strong>.",android:'För att lägga till den här webbappen på hemskärmen öppnar du webbläsarens alternativ-meny och väljer <strong>Lägg till på startskärmen</strong>. <small>Man hittar menyn genom att trycka på hårdvaruknappen om din enhet har en sådan, eller genom att trycka på menyikonen högst upp till höger <span class="ath-action-icon">icon</span>.</small>'},zh_cn:{ios:"如要把应用程序加至主屏幕,请点击%icon, 然后<strong>添加到主屏幕</strong>",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},zh_tw:{ios:"如要把應用程式加至主屏幕, 請點擊%icon, 然後<strong>加至主屏幕</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'}};for(var r in b.intl)b.intl[r.substr(0,2)]=b.intl[r];b.defaults={appID:"org.cubiq.addtohome",fontSize:15,debug:!1,logging:!1,modal:!1,mandatory:!1,autostart:!0,skipFirstVisit:!1,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,icon:!0,message:"",validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,privateModeOverride:!1,detectHomescreen:!1};var l=window.navigator.userAgent,h=window.navigator;c(b,{hasToken:"#ath"==document.location.hash||o.test(document.location.href)||s.test(document.location.search),isRetina:window.devicePixelRatio&&window.devicePixelRatio>1,isIDevice:/iphone|ipod|ipad/i.test(l),isMobileChrome:l.indexOf("Android")>-1&&/Chrome\/[.0-9]*/.test(l)&&-1==l.indexOf("Version"),isMobileIE:l.indexOf("Windows Phone")>-1,language:h.language&&h.language.toLowerCase().replace("-","_")||""}),b.language=b.language&&b.language in b.intl?b.language:"en_us",b.isMobileSafari=b.isIDevice&&l.indexOf("Safari")>-1&&l.indexOf("CriOS")<0,b.OS=b.isIDevice?"ios":b.isMobileChrome?"android":b.isMobileIE?"windows":"unsupported",b.OSVersion=l.match(/(OS|Android) (\d+[_\.]\d+)/),b.OSVersion=b.OSVersion&&b.OSVersion[2]?+b.OSVersion[2].replace("_","."):0,b.isStandalone="standalone"in window.navigator&&window.navigator.standalone,b.isTablet=b.isMobileSafari&&l.indexOf("iPad")>-1||b.isMobileChrome&&l.indexOf("Mobile")<0,b.isCompatible=b.isMobileSafari&&b.OSVersion>=6||b.isMobileChrome;var p={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedout:!1,added:!1};b.removeSession=function(e){try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.removeItem(e||b.defaults.appID)}catch(e){}},b.doLog=function(t){(this||e).options.logging&&console.log(t)},b.Class=function(n){if((this||e).doLog=b.doLog,(this||e).options=c({},b.defaults),c((this||e).options,n),n&&n.debug&&"undefined"==typeof n.logging&&((this||e).options.logging=!0),t){if((this||e).options.mandatory=(this||e).options.mandatory&&("standalone"in window.navigator||(this||e).options.debug),(this||e).options.modal=(this||e).options.modal||(this||e).options.mandatory,(this||e).options.mandatory&&((this||e).options.startDelay=-.5),(this||e).options.detectHomescreen=!0===(this||e).options.detectHomescreen?"hash":(this||e).options.detectHomescreen,(this||e).options.debug&&(b.isCompatible=!0,b.OS="string"==typeof(this||e).options.debug?(this||e).options.debug:"unsupported"==b.OS?"android":b.OS,b.OSVersion="ios"==b.OS?"8":"4"),(this||e).container=document.documentElement,(this||e).session=this.getItem((this||e).options.appID),(this||e).session=(this||e).session?JSON.parse((this||e).session):void 0,!b.hasToken||b.isCompatible&&(this||e).session||(b.hasToken=!1,d()),!b.isCompatible)return void this.doLog("Add to homescreen: not displaying callout because device not supported");(this||e).session=(this||e).session||p;try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.setItem((this||e).options.appID,JSON.stringify((this||e).session)),b.hasLocalStorage=!0}catch(t){b.hasLocalStorage=!1,(this||e).options.onPrivate&&(this||e).options.onPrivate.call(this||e)}for(var i=!(this||e).options.validLocation.length,o=(this||e).options.validLocation.length;o--;)if((this||e).options.validLocation[o].test(document.location.href)){i=!0;break}if(this.getItem("addToHome")&&this.optOut(),(this||e).session.optedout)return void this.doLog("Add to homescreen: not displaying callout because user opted out");if((this||e).session.added)return void this.doLog("Add to homescreen: not displaying callout because already added to the homescreen");if(!i)return void this.doLog("Add to homescreen: not displaying callout because not a valid location");if(b.isStandalone)return(this||e).session.added||((this||e).session.added=!0,this.updateSession(),(this||e).options.onAdd&&b.hasLocalStorage&&(this||e).options.onAdd.call(this||e)),void this.doLog("Add to homescreen: not displaying callout because in standalone mode");if((this||e).options.detectHomescreen){if(b.hasToken)return d(),(this||e).session.added||((this||e).session.added=!0,this.updateSession(),(this||e).options.onAdd&&b.hasLocalStorage&&(this||e).options.onAdd.call(this||e)),void this.doLog("Add to homescreen: not displaying callout because URL has token, so we are likely coming from homescreen");"hash"==(this||e).options.detectHomescreen?history.replaceState("",window.document.title,document.location.href+"#ath"):"smartURL"==(this||e).options.detectHomescreen?history.replaceState("",window.document.title,document.location.href.replace(/(\/)?$/,"/ath$1")):history.replaceState("",window.document.title,document.location.href+(document.location.search?"&":"?")+"ath=")}if(!(this||e).session.returningVisitor&&((this||e).session.returningVisitor=!0,this.updateSession(),(this||e).options.skipFirstVisit))return void this.doLog("Add to homescreen: not displaying callout because skipping first visit");if(!(this||e).options.privateModeOverride&&!b.hasLocalStorage)return void this.doLog("Add to homescreen: not displaying callout because browser is in private mode");(this||e).ready=!0,(this||e).options.onInit&&(this||e).options.onInit.call(this||e),(this||e).options.autostart&&(this.doLog("Add to homescreen: autostart displaying callout"),this.show())}},b.Class.prototype={events:{load:"_delayedShow",error:"_delayedShow",orientationchange:"resize",resize:"resize",scroll:"resize",click:"remove",touchmove:"_preventDefault",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},handleEvent:function(t){var n=(this||e).events[t.type];n&&this[n](t)},show:function(t){if(!(this||e).options.autostart||n)if((this||e).shown)this.doLog("Add to homescreen: not displaying callout because already shown on screen");else{var i=Date.now(),o=(this||e).session.lastDisplayTime;if(!0!==t){if(!(this||e).ready)return void this.doLog("Add to homescreen: not displaying callout because not ready");if(i-o<6e4*(this||e).options.displayPace)return void this.doLog("Add to homescreen: not displaying callout because displayed recently");if((this||e).options.maxDisplayCount&&(this||e).session.displayCount>=(this||e).options.maxDisplayCount)return void this.doLog("Add to homescreen: not displaying callout because displayed too many times already")}(this||e).shown=!0,(this||e).session.lastDisplayTime=i,(this||e).session.displayCount++,this.updateSession(),(this||e).applicationIcon||("ios"==b.OS?(this||e).applicationIcon=document.querySelector('head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]'):(this||e).applicationIcon=document.querySelector('head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]'));var s="";"object"==typeof(this||e).options.message&&b.language in(this||e).options.message?s=(this||e).options.message[b.language][b.OS]:"object"==typeof(this||e).options.message&&b.OS in(this||e).options.message?s=(this||e).options.message[b.OS]:(this||e).options.message in b.intl?s=b.intl[(this||e).options.message][b.OS]:""!==(this||e).options.message?s=(this||e).options.message:b.OS in b.intl[b.language]&&(s=b.intl[b.language][b.OS]),s="<p>"+s.replace("%icon",'<span class="ath-action-icon">icon</span>')+"</p>",(this||e).viewport=document.createElement("div"),(this||e).viewport.className="ath-viewport",(this||e).options.modal&&((this||e).viewport.className+=" ath-modal"),(this||e).options.mandatory&&((this||e).viewport.className+=" ath-mandatory"),(this||e).viewport.style.position="absolute",(this||e).element=document.createElement("div"),(this||e).element.className="ath-container ath-"+b.OS+" ath-"+b.OS+(b.OSVersion+"").substr(0,1)+" ath-"+(b.isTablet?"tablet":"phone"),(this||e).element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0s;-webkit-transition-timing-function:ease-out;transition-property:transform,opacity;transition-duration:0s;transition-timing-function:ease-out;",(this||e).element.style.webkitTransform="translate3d(0,-"+window.innerHeight+"px,0)",(this||e).element.style.transform="translate3d(0,-"+window.innerHeight+"px,0)",(this||e).options.icon&&(this||e).applicationIcon&&((this||e).element.className+=" ath-icon",(this||e).img=document.createElement("img"),(this||e).img.className="ath-application-icon",(this||e).img.addEventListener("load",this||e,!1),(this||e).img.addEventListener("error",this||e,!1),(this||e).img.src=(this||e).applicationIcon.href,(this||e).element.appendChild((this||e).img)),(this||e).element.innerHTML+=s,(this||e).viewport.style.left="-99999em",(this||e).viewport.appendChild((this||e).element),(this||e).container.appendChild((this||e).viewport),(this||e).img?this.doLog("Add to homescreen: not displaying callout because waiting for img to load"):this._delayedShow()}else setTimeout((this||e).show.bind(this||e),50)},_delayedShow:function(t){setTimeout((this||e)._show.bind(this||e),1e3*(this||e).options.startDelay+500)},_show:function(){var t=this||e;this.updateViewport(),window.addEventListener("resize",this||e,!1),window.addEventListener("scroll",this||e,!1),window.addEventListener("orientationchange",this||e,!1),(this||e).options.modal&&document.addEventListener("touchmove",this||e,!0),(this||e).options.mandatory||setTimeout((function(){t.element.addEventListener("click",t,!0)}),1e3),setTimeout((function(){t.element.style.webkitTransitionDuration="0.5s ease-in",t.element.style.transitionDuration="0.5s ease-in",t.element.style.webkitTransform="translate3d(0,0,0)",t.element.style.transform="translate3d(0,0,0)"}),0),(this||e).options.lifespan&&((this||e).removeTimer=setTimeout((this||e).remove.bind(this||e),1e3*(this||e).options.lifespan)),(this||e).options.onShow&&(this||e).options.onShow.call(this||e)},remove:function(){clearTimeout((this||e).removeTimer),(this||e).img&&((this||e).img.removeEventListener("load",this||e,!1),(this||e).img.removeEventListener("error",this||e,!1)),window.removeEventListener("resize",this||e,!1),window.removeEventListener("scroll",this||e,!1),window.removeEventListener("orientationchange",this||e,!1),document.removeEventListener("touchmove",this||e,!0),(this||e).element.removeEventListener("click",this||e,!0),(this||e).element.addEventListener("transitionend",this||e,!1),(this||e).element.addEventListener("webkitTransitionEnd",this||e,!1),(this||e).element.addEventListener("MSTransitionEnd",this||e,!1),(this||e).element.style.webkitTransitionDuration="0.3s",(this||e).element.style.opacity="0"},_removeElements:function(){(this||e).element.removeEventListener("transitionend",this||e,!1),(this||e).element.removeEventListener("webkitTransitionEnd",this||e,!1),(this||e).element.removeEventListener("MSTransitionEnd",this||e,!1),(this||e).container.removeChild((this||e).viewport),(this||e).shown=!1,(this||e).options.onRemove&&(this||e).options.onRemove.call(this||e)},updateViewport:function(){if((this||e).shown){(this||e).viewport.style.width=window.innerWidth+"px",(this||e).viewport.style.height=window.innerHeight+"px",(this||e).viewport.style.left=window.scrollX+"px",(this||e).viewport.style.top=window.scrollY+"px";var t=document.documentElement.clientWidth;(this||e).orientation=t>document.documentElement.clientHeight?"landscape":"portrait";var n="ios"==b.OS?"portrait"==(this||e).orientation?screen.width:screen.height:screen.width;(this||e).scale=screen.width>t?1:n/window.innerWidth,(this||e).element.style.fontSize=(this||e).options.fontSize/(this||e).scale+"px"}},resize:function(){clearTimeout((this||e).resizeTimer),(this||e).resizeTimer=setTimeout((this||e).updateViewport.bind(this||e),100)},updateSession:function(){!1!==b.hasLocalStorage&&localStorage&&localStorage.setItem((this||e).options.appID,JSON.stringify((this||e).session))},clearSession:function(){(this||e).session=p,this.updateSession()},getItem:function(e){try{if(!localStorage)throw new Error("localStorage is not defined");return localStorage.getItem(e)}catch(e){b.hasLocalStorage=!1}},optOut:function(){(this||e).session.optedout=!0,this.updateSession()},optIn:function(){(this||e).session.optedout=!1,this.updateSession()},clearDisplayCount:function(){(this||e).session.displayCount=0,this.updateSession()},_preventDefault:function(e){e.preventDefault(),e.stopPropagation()}},window.addToHomescreen=b}));var n=t;export default n;

